<div class="portfolio">
  <div class="container">
    <div class="title-portfolio">
      <h2 class="title">Portfolio</h2>
    </div>

    <div class="image-slider">
      <button
        class="scroll-down-button"
        *ngIf="scrollDownActive && operaDefault"
        (click)="scrollDownToOperaDettaglio()"
        (click)="scrollDownActive = false"
      >
        <i class="fa-solid fa-arrow-down"></i>
      </button>
      <div class="prev" (click)="previusPaginator()">
        <i id="prev-slide" class="fa-solid fa-paintbrush"></i>
      </div>

      <div
        class="chunk fade-in col-sm-9 col-lg-10"
        [ngClass]="this.isAnimating == true ? 'fade-out' : ''"
      >
        <div
          class="image col-sm-4 col-md-4 col-lg-4"
          *ngFor="
            let chunk of chunkedImages[currentIndex];
            let imageIndex = index
          "
        >
          <img
            class="opera"
            [src]="'../../../assets/images/' + chunk.path"
            alt="Image"
            (click)="currentOpera(chunk)"
            (click)="scrollDownActive = true"
            [class.selected]="selectedOpera === chunk.path"
          />
        </div>
      </div>

      <div class="next" (click)="nextPaginator()">
        <i id="next-slide" class="fa-solid fa-paintbrush"></i>
      </div>
    </div>

    <ul class="paginator">
      <li class="first-page" *ngIf="firstPage" (click)="firstChunk()">1st</li>
      <li
        *ngFor="let item of paginatorSlice(); let i = index"
        [ngClass]="{
          'paginator-selected': i + paginatorIndex === currentIndex
        }"
        (click)="changePage(i + paginatorIndex)"
      >
        {{ i + 1 + paginatorIndex }}
      </li>
      <li class="last-page" *ngIf="lastPage" (click)="lastChunk()">
        {{ chunkedImages.length }}th
      </li>
    </ul>

    <div id="opera-dettaglio">
      <button
        class="btn btn-danger btn"
        *ngIf="operaDefault"
        (click)="operaDefault = false"
      >
        <i class="fa-solid fa-xmark"> </i>
      </button>
      <app-opera-dettaglio *ngIf="operaDefault"></app-opera-dettaglio>
    </div>
  </div>
</div>
